{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/todos.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js","src/modules/components/pic.js","src/resources/data/galleries.js","src/resources/data/pics.js","src/modules/pic.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","showRegister","user","firstName","lastName","email","password","registerError","save","console","log","serverResponse","error","login","sessionStorage","setItem","JSON","stringify","response","navigate","catch","List","galleries","parse","getItem","showList","showForm","editTodoForm","showCompleted","activate","getUserGalleries","_id","logout","removeItem","createGallery","galleryObj","gallery","description","userId","saveGallery","alert","back","editGallery","checkGallery","deleteGallery","completeGallery","completed","changeFiles","filesToUpload","Array","push","files","removeFile","index","splice","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","ToDos","TODO_SERVICE","todosArray","getUserTodos","id","todo","deleteTodo","i","length","uploadFile","todoId","formData","FormData","forEach","item","append","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","DateFormatValueConverter","format","pic","pics","title","getGallerypics","createpic","picObj","galleryId","savepic","picId","backToList","editpic","deletepic","Galleries","GALLERY_SERVICE","galleriesArray","PIC_SERVICE","picsArray"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\nexport class App {\n\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep); \n    config.map([\n      { \n   route: ['', 'home'],\n   moduleId: './modules/home',\n   name: 'Home' \n      },\n\n\n      {\n        route: 'pic',\n        moduleId: './modules/pic',\n        name: 'pic',\n        auth: false \n     },\n\n      \n  { route: 'list',\n   moduleId: './modules/list',\n   name: 'List', \n   auth: true \n     }\n    ]);\n  }\n}","var authConfig = {\r\n    baseUrl: \"http://localhost:5000/api\",\r\n    loginUrl: '/users/login',\r\n    tokenName: 'token',\r\n    authHeader: 'Authorization',\r\n    authToken: '',\r\n    logoutRedirect: '#/home'\r\n  }\r\n  \r\n  export default authConfig;","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport regeneratorRuntime from 'regenerator-runtime';\nimport config from './auth-config';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}","import {inject} from 'aurelia-framework'; \r\nimport {Router} from 'aurelia-router';\r\nimport { Users } from '../resources/data/users';   \r\nimport {AuthService} from 'aurelia-auth';  \r\n\r\n@inject(Router, Users, AuthService)\r\nexport class Home {\r\n\r\n  constructor(router, users, auth) {\r\n    this.router = router;\r\n    this.auth = auth;\r\n    this.loginError = '';     \r\n    this.users = users;\r\n    this.message = 'Home';\r\n    this.showLogin = true;\r\n  }\r\n\r\n  showRegister(){\r\n    this.user = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n      }\r\n      this.registerError = \"\";\r\n      \r\n    this.showLogin = false;\r\n  }\r\n   async save() {\r\n   console.log (this.user);\r\n          let serverResponse = await this.users.save(this.user);\r\n          if (!serverResponse.error) {\r\n            this.showLogin = true;\r\n          } else {\r\n            this.registerError = \"There was a problem registering the user.\"\r\n          }\r\n    }\r\n        \r\n\r\n  login(){\r\n    return this.auth.login(this.email, this.password)\r\n    .then(response => {\r\n      sessionStorage.setItem(\"user\", JSON.stringify(response.user));\r\n      this.loginError = \"\";  \r\n      this.router.navigate('list');\r\n    })\r\n   .catch(error => {\r\n    console.log(error);\r\n    this.loginError = \"Invalid credentials.\";\r\n  });\r\n};\r\n\r\n}","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {AuthService} from 'aurelia-auth';\r\nimport {Galleries} from '../resources/data/galleries';\r\n\r\n@inject(Router,Galleries,AuthService)\r\nexport class List {\r\n  constructor(router,galleries,auth) {\r\n\t  \r\n  this.router = router;\r\n  this.galleries = galleries;\r\n  this.auth = auth;\r\n  this.message = 'Galleries';\r\n  this.user = JSON.parse(sessionStorage.getItem('user'));\r\n  this.showList = true;\r\n  this.showForm = false;\r\n  this.editTodoForm = false;\r\n  this.showCompleted = false;\r\n  }\r\n\r\n  \r\nasync activate(){\r\n\t\tawait this.galleries.getUserGalleries(this.user._id);\r\n\t}\r\n\r\n   logout(){\r\n\tsessionStorage.removeItem('user');\r\n\tthis.auth.logout();\r\n   }\r\n\r\n\r\n  createGallery(){\t\r\n\t\tthis.galleryObj = {\r\n\t\t\tgallery: \"\",\r\n\t\t\tdescription: \"\",\r\n\t\t\t userId: this.user._id,\r\n\t\t}\r\n\t\tthis.showList = false;\r\n\t\tthis.showForm = true;\t\t\r\n   }\r\n  \r\n\r\n\r\nasync saveGallery(){\r\n        if(this.galleryObj){       \r\n            let response = await this.galleries.save(this.galleryObj);\r\n            if(response.error){\r\n                alert(\"There was an error creating the Gallery\");\r\n            } else {\r\n              \r\n            }\r\n            this.showList = true;\r\n\t\t\tthis.showForm = false;\r\n        }\r\n    }\r\n\r\n\r\nback(){\r\n\t\t this. showList = true;\r\n\t\t  this.showForm = false;\r\n     }\r\n     \r\neditGallery(gallery){\r\n        this.galleryObj = gallery;\r\n        this. showList = false;\r\n\t\tthis.showForm = true;\r\n      }\r\n\r\n\t\r\n\r\ncheckGallery(gallery) {  \r\n\t  sessionStorage.setItem(\"gallery\", JSON.stringify(gallery));\r\n  \t  this.router.navigate('pic');   \r\n    };\r\n\r\ndeleteGallery(gallery){\r\n        this.galleries.deleteGallery(gallery._id);\r\n    }\r\n\r\ncompleteGallery(gallery){\r\n    \tgallery.completed = !gallery.completed;\r\n    \tthis.galleryObj = gallery;\r\n    \tthis.saveGallery();\r\n\t }\r\n\t\r\nchangeFiles(){\r\n    \tthis.filesToUpload = new Array(); \r\n    \tthis.filesToUpload.push(this.files[0]);\r\n    }\r\n    \r\nremoveFile(index){\r\n    \tthis.filesToUpload.splice(index,1);\r\n\t}\r\n\r\n}\r\n","export function configure(config) {\n  config.globalResources([\n    './value-converters/date-format',\n    './value-converters/completed',\n    './elements/flatpickr'\n  ]);\n}","import { inject } from 'aurelia-framework';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n\r\n    constructor(http) {\r\n        this.httpClient = http;\r\n\r\n        this.BASE_URL = \"http://localhost:5000/api/\";\r\n\r\n        this.httpClient.configure(config => {\r\n            config\r\n                .withBaseUrl(this.BASE_URL)\r\n                .withDefaults({\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'X-Requested-With': 'Fetch'\r\n                }\r\n                })\r\n                .withInterceptor({\r\n                request(request) {\r\n                    console.log(`Requesting ${request.method} ${request.url}`);\r\n                    return request;\r\n                },\r\n                response(response) {\r\n                    console.log(`Received ${response.status} ${response.url}`);\r\n                    return response;\r\n                }\r\n                });\r\n            });\r\n\r\n            \r\n    }\r\n\r\n    get(url) {\r\n        return this.httpClient.fetch(url)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                return data;\r\n            })\r\n            .catch(error => {\r\n                return error;\r\n            });\r\n    }\r\n\r\n    post(content, url) {\r\n        return this.httpClient\r\n            .fetch(url, {\r\n                method: 'post',\r\n                body: json(content)\r\n            })\r\n            .then(response => response.json())\r\n            .then(object => {\r\n                return object;\r\n            })\r\n            .catch(error => {\r\n                return error;\r\n            });\r\n    }\r\n\r\n    put(content, url) {\r\n        return this.httpClient\r\n            .fetch(url, {\r\n                method: 'put',\r\n                body: json(content)\r\n            })\r\n            .then(response => response.json())\r\n            .then(object => {\r\n                return object;\r\n            })\r\n            .catch(error => {\r\n                return error;\r\n            });\r\n    }\r\n\r\n    delete(url) {\r\n        return this.httpClient\r\n            .fetch(url, {\r\n                method: 'delete'\r\n            })\r\n            .then(response => response.json())\r\n            .then(object => {\r\n                return object;\r\n            })\r\n            .catch(error => {\r\n                return error ;\r\n            });\r\n    }\r\n    uploadFiles(files, url){\r\n            return this.httpClient\r\n            .fetch(url, {\r\n                method: 'post',\r\n                body: files\r\n            })\r\n            .then(response => response.json())\r\n            .then(object => {\r\n                return object;\r\n            })\r\n            .catch(error => {\r\n                return error;\r\n            });\r\n        }\r\n        \r\n}","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class ToDos {\r\n    constructor(data) {\r\n                this.data = data;\r\n                this.TODO_SERVICE = 'todos';\r\n                this.todosArray= new Array ();\r\n         }\r\n\r\nasync getUserTodos(id){\r\n    let response = await this.data.get(this.TODO_SERVICE + \"/user/\" + id);\r\n    if(!response.error && !response.message){\r\n        this.todosArray = response;\r\n    }\r\n} \r\n\r\nasync save(todo){\r\n    if(todo){\r\n    if(!todo._id){\r\n            \r\n    let serverResponse = await this.data.post(todo, this.TODO_SERVICE);\r\n    if(!serverResponse.error){\r\n        this.todosArray.push(serverResponse);\r\n    }\r\n    return serverResponse;\r\n    }\r\n    else {\r\n                    let serverResponse = await this.data.put(todo, this.TODO_SERVICE + \"/\" + todo._id);\r\n                    if(!serverResponse.error){\r\n                        // this.updateArray(response);\r\n                    }\r\n                    return serverResponse;\r\n                }\r\n           }\r\n        }\r\n    \r\n        async deleteTodo(id){\r\n            let serverResponse = await this.data.delete(this.TODO_SERVICE + \"/\" + id);\r\n            if(!serverResponse.error){\r\n                for(let i = 0; i < this.todosArray.length; i++){\r\n                    if(this.todosArray[i]._id === id){\r\n                        this.todosArray.splice(i,1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        async uploadFile(files, userId, todoId){\r\n                    let formData = new FormData();\r\n                   files.forEach((item, index) => {\r\n                formData.append(\"file\" + index, item);\r\n                    });\r\n                \r\n                let serverResponse = await this.data.uploadFiles(formData, this.TODO_SERVICE + \"/upload/\" + userId + \"/\" + todoId);\r\n                return serverResponse;\r\n            }\r\n            \r\n    }","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class Users {\r\n    \r\nconstructor(data) {\r\n        this.data = data;\r\n\r\n        this.USER_SERVICE = 'users';\r\n    }\r\n\r\nasync save(user){\r\n    if(user){\r\n        let serverResponse = await this.data.post(user, this.USER_SERVICE);\r\n         return serverResponse;\r\n }\r\n}\r\n\r\n}","import {inject, bindable, bindingMode} from 'aurelia-framework';\r\nimport Flatpickr from 'flatpickr';\r\n@inject(Element)\r\nexport class FlatPickerCustomElement {\r\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\r\nconstructor(element) {\r\n  this.element = element;\r\n}\r\nbind() {\r\n            const defaultConfig = {\r\n                \taltInput: true,\r\n                \taltFormat: \"F j, Y\",\r\n        wrap: true\r\n            };\r\n            this._config = Object.assign({}, defaultConfig);\r\n            this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\r\n        }\r\n    attached() {\r\n                this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\r\n         }\r\n        onChange(selectedDates, dateStr, instance) {\r\n                this.value = selectedDates[0] \r\n        }\r\n        \r\n        valueChanged() {\r\n                if (!this.flatpickr) {\r\n                    return;\r\n                }\r\n                if (this.value === this.flatpickr.selectedDates[0]){\r\n                    return;\r\n                }\r\n               let newDate = this.value ? this.value : undefined;      \r\n               this.flatpickr.setDate(newDate);\r\n            }\r\n            } ","export class CompletedValueConverter {\r\n    \r\n     toView(array, value) {\r\n       if(!value){\r\n        return array.filter(item => {\r\n          return !item.completed;\r\n        })\r\n       } else {\r\n         return array;\r\n       }\r\n     }\r\n    }","import moment from 'moment';\r\nexport class DateFormatValueConverter {\r\ntoView(value, format = 'MM-DD-YYYY') {\r\nif(value === undefined || value === null){\r\n\treturn;\r\n    \t\t}\r\n    \r\n    \t\treturn moment(value).format(format);\r\n\t}\r\n}","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {AuthService} from 'aurelia-auth';\r\nimport {pics} from '../resources/data/pics';\r\n\r\n@inject(Router,pics,AuthService)\r\nexport class pic {\r\n  constructor(router,pics,auth) {\r\n  this.router = router;\r\n  this.pics = pics;\r\n  this.auth = auth;\r\n  this.message = 'pic List';\r\n  this.user = JSON.parse(sessionStorage.getItem('user'));\r\n  this.showList = true;\r\n  this.showForm = false;\r\n  this.title = \"pictures!\"\r\n\tthis.editTodoForm = false;\r\n\tthis.showCompleted = false;\r\n  }\r\nasync activate(gallery){\r\n\t\tawait this.pics.getGallerypics(JSON.parse(sessionStorage.getItem('gallery'))._id);\r\n\t}\r\n\r\n\r\n\r\n\r\n   createpic(){\t\r\n\t\tthis.picObj = {\r\n\t\t\tgalleryId: JSON.parse(sessionStorage.getItem('gallery'))._id\r\n\t\t\t\r\n\t\t}\r\n\t\tthis.showList = false;\r\n\t\tthis.showForm = true;\t\t\r\n   }\r\n\r\n   async savepic(){\r\n        if(this.picObj){       \r\n            let response = await this.pics.save(this.picObj);\r\n            if(response.error){\r\n                alert(\"There was an error creating the pic\");\r\n            } else {\r\n                var galleryId = JSON.parse(sessionStorage.getItem('gallery'))._id;\r\n                var picId = response._id;\r\n                if(this.filesToUpload && this.filesToUpload.length){\r\n                    await this.pics.uploadFile(this.filesToUpload, galleryId,picId );\r\n                    this.filesToUpload = [];\r\n                }\r\n            }\r\n            this.showList = true;\r\n\t\t\tthis.showForm = false;\r\n        }\r\n    }\r\n\r\n\r\n\tbackToList(){\r\n\t\tthis.router.navigate('list');\r\n\t}\r\n\r\n\t back(){\r\n\t\t this. showList = true;\r\n\t\t  this.showForm = false;\r\n\t }\r\n\r\n\t  editpic(pic){\r\n        this.picObj = pic;\r\n        this. showList = false;\r\n\t\tthis.showForm = true;\r\n      }\r\n\r\n   deletepic(pic){\r\n        this.pics.deletepic(pic._id);\r\n    }\r\n\r\n\t changeFiles(){\r\n    \tthis.filesToUpload = new Array(); \r\n    \tthis.filesToUpload.push(this.files[0]);\r\n\t}\r\n\tremoveFile(index){\r\n    \tthis.filesToUpload.splice(index,1);\r\n    }\r\n    \r\n    logout(){\r\n        sessionStorage.removeItem('user');\r\n        this.auth.logout();\r\n       }\r\n       \r\n}","\r\n\r\nimport {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class Galleries {\r\n   constructor(data) {\r\n        \t\tthis.data = data;\r\n        \t\tthis.GALLERY_SERVICE = 'galleries';\r\n                this.galleriesArray = [];\r\n\r\n            }\r\n            \r\n\r\n    async save(gallery){\r\n\t\tif(gallery){\r\n\t\t\tif(!gallery._id){\r\n\t\t\t\tlet serverResponse = await this.data.post(gallery, this.GALLERY_SERVICE);\r\n\t\tif(!serverResponse.error){\r\n\t\t\tthis.galleriesArray.push(serverResponse);\r\n\t\t     }\r\n\t\t           return serverResponse;\r\n\t\t }else{\r\n\t\t\t let serverResponse = await this.data.put(gallery, this.GALLERY_SERVICE + \"/\" +gallery._id);\r\n\t\t\t  return serverResponse;\r\n\t\t }\r\n}}\r\n\r\n\r\nasync getUserGalleries(id){\r\n\t\tlet response = await this.data.get(this.GALLERY_SERVICE + \"/user/\" + id);\r\n\t\tif(!response.error && !response.message){\r\n\t\t\tthis.galleriesArray = response;\r\n\t\t}\r\n       }\r\n       \r\nasync deleteGallery(id){\r\n\t\tlet response = await this.data.delete(this.GALLERY_SERVICE + \"/\" + id);\r\n\t\tif(!response.error){\r\n\t\t\tfor(let i = 0; i < this.galleriesArray.length; i++){\r\n\t\t\t\tif(this.galleriesArray[i]._id === id){\r\n\t\t\t\t\tthis.galleriesArray.splice(i,1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class pics {\r\n   constructor(data) {\r\n        \t\tthis.data = data;\r\n        \t\tthis.PIC_SERVICE = 'pics';\r\n                this.picsArray = [];\r\n\r\n   \t\t }\r\n    async save(pic){\r\n\t\tif(pic){\r\n\t\t\tif(!pic._id){\r\n\t\t\t\tlet serverResponse = await this.data.post(pic, this.PIC_SERVICE);\r\n\t\tif(!serverResponse.error){\r\n\t\t\tthis.picsArray.push(serverResponse);\r\n\t\t     }\r\n\t\t           return serverResponse;\r\n\t\t }else{\r\n\t\t\t let serverResponse = await this.data.put(pic, this.PIC_SERVICE + \"/\" +pic._id);\r\n\t\t\t  return serverResponse;\r\n\t\t }\r\n}}\r\n\r\nasync getGallerypics(id){\r\n    let response = await this.data.get(this.PIC_SERVICE + \"/gallery/\" + id);\r\n    if(!response.error && !response.message){\r\n        this.picsArray = response;\r\n    }\r\n   }\r\n\r\nasync uploadFile(files, galleryId, picId){\r\n        let formData = new FormData();\r\n        files.forEach((item, index) => {\r\n\t    formData.append(\"file\" + index, item);\r\n        });\r\n    \r\n\tlet response = await this.data.uploadFiles(formData, this.PIC_SERVICE + \"/upload/\"  + galleryId + \"/\"   + picId);\r\n\tconsole.log(\"this is being called \" + this.PIC_SERVICE + \"/upload/\" + galleryId + \"/\" + picId);\r\n\treturn response;\r\n}\r\n\r\n\r\n\r\n\r\n       \r\n\r\nasync deletepic(id){\r\n\t\tlet response = await this.data.delete(this.PIC_SERVICE + \"/\" + id);\r\n\t\tif(!response.error){\r\n\t\t\tfor(let i = 0; i < this.picsArray.length; i++){\r\n\t\t\t\tif(this.picsArray[i]._id === id){\r\n\t\t\t\t\tthis.picsArray.splice(i,1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {AuthService} from 'aurelia-auth';\r\nimport {pics} from '../resources/data/pics';\r\n\r\n@inject(Router,pics,AuthService)\r\nexport class pic {\r\n  constructor(router,pics,auth) {\r\n  this.router = router;\r\n  this.pics = pics;\r\n  this.auth = auth;\r\n  this.user = JSON.parse(sessionStorage.getItem('user'));\r\n  this.showList = true;\r\n  this.showForm = false;\r\n  this.editTodoForm = false;\r\n  this.showCompleted = false;\r\n  }\r\nasync activate(gallery){\r\n\t\tawait this.pics.getGallerypics(JSON.parse(sessionStorage.getItem('gallery'))._id);\r\n\t}\r\n\r\n\r\n\r\n\r\n   createpic(){\t\r\n\t\tthis.picObj = {\r\n\t\t\tgalleryId: JSON.parse(sessionStorage.getItem('gallery'))._id\r\n\t\t\t\r\n\t\t}\r\n\t\tthis.showList = false;\r\n\t\tthis.showForm = true;\t\t\r\n   }\r\n\r\n   async savepic(){\r\n        if(this.picObj){       \r\n            let response = await this.pics.save(this.picObj);\r\n            if(response.error){\r\n                alert(\"There was an error creating the pic\");\r\n            } else {\r\n                var galleryId = JSON.parse(sessionStorage.getItem('gallery'))._id;\r\n                var picId = response._id;\r\n                if(this.filesToUpload && this.filesToUpload.length){\r\n                    await this.pics.uploadFile(this.filesToUpload, galleryId,picId );\r\n                    this.filesToUpload = [];\r\n                }\r\n            }\r\n            this.showList = true;\r\n\t\t\tthis.showForm = false;\r\n        }\r\n    }\r\n\r\n\r\n\tbackToList(){\r\n\t\tthis.router.navigate('list');\r\n\t}\r\n\r\n\t back(){\r\n\t\t this. showList = true;\r\n\t\t  this.showForm = false;\r\n\t }\r\n\r\n\t  editpic(pic){\r\n        this.picObj = pic;\r\n        this. showList = false;\r\n\t\tthis.showForm = true;\r\n      }\r\n\r\n   deletepic(pic){\r\n        this.pics.deletepic(pic._id);\r\n    }\r\n\r\n\t changeFiles(){\r\n    \tthis.filesToUpload = new Array(); \r\n    \tthis.filesToUpload.push(this.files[0]);\r\n\t}\r\n\tremoveFile(index){\r\n    \tthis.filesToUpload.splice(index,1);\r\n    }\r\n    \r\n    logout(){\r\n        sessionStorage.removeItem('user');\r\n        this.auth.logout();\r\n       }\r\n       \r\n}"],"sourceRoot":".."}